<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=5.0"
    />
    <title>Contact Us - Tooraflex</title>
    <meta
      name="description"
      content="Get in touch with Tooraflex for your digital solution needs. We're here to help your business grow online."
    />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/whatsapp-float.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Raleway:wght@700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" type="image/x-icon" href="images/logo/logo.ico" />
  </head>
  <body>
    <!-- Cookie Consent Banner for POPIA -->
    <div id="cookie-consent" class="cookie-consent">
      <div class="cookie-content">
        <div class="cookie-text">
          <h3><i class="fas fa-cookie-bite"></i> Cookie Consent</h3>
          <p>
            We use cookies to improve your experience on our site and to show
            you relevant content. By clicking "Accept All", you agree to the use
            of all cookies as per the Protection of Personal Information Act
            (POPIA).
            <a href="privacy.html" class="cookie-link"
              >Learn more about our privacy policy</a
            >.
          </p>
        </div>
        <div class="cookie-buttons">
          <button id="cookie-accept-all" class="btn cookie-btn accept-btn">
            <i class="fas fa-check"></i> Accept All
          </button>
          <button id="cookie-necessary" class="btn cookie-btn necessary-btn">
            <i class="fas fa-cog"></i> Necessary Only
          </button>
          <button id="cookie-decline" class="btn cookie-btn decline-btn">
            <i class="fas fa-times"></i> Decline
          </button>
        </div>
      </div>
    </div>

    <!-- Floating WhatsApp Button -->
    <div class="whatsapp-float" id="whatsapp-float"></div>

    <!-- Header -->
    <header id="main-header"></header>

    <!-- Page Hero -->
    <section class="hero page-hero">
      <div class="container">
        <div class="hero-text page-hero-text">
          <h1>Contact Us</h1>
          <p>
            Get in touch with our team to discuss your project. We're excited to
            hear about your ideas and help bring them to life.
          </p>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section class="section-padding">
      <div class="container">
        <div class="contact-content">
          <div class="contact-info">
            <h3>Get In Touch</h3>
            <p>
              Have a project in mind? We'd love to hear about it. Send us a
              message and we'll respond as soon as possible.
            </p>

            <div class="contact-detail">
              <i class="fas fa-map-marker-alt"></i>
              <div>
                <h4>Our Office</h4>
                <p class="contact-address">Loading address...</p>
              </div>
            </div>

            <div class="contact-detail">
              <i class="fas fa-phone-alt"></i>
              <div>
                <h4>Phone Number</h4>
                <p>
                  <a href="tel:+27812194023" class="contact-phone"
                    >Loading phone...</a
                  >
                </p>
              </div>
            </div>

            <div class="contact-detail">
              <i class="fas fa-envelope"></i>
              <div>
                <h4>Email Address</h4>
                <p>
                  <a href="mailto:info@tooraflex.co.za" class="contact-email"
                    >info@tooraflex.co.za</a
                  >
                </p>
              </div>
            </div>

            <div class="contact-detail">
              <i class="fas fa-clock"></i>
              <div>
                <h4>Business Hours</h4>
                <p>Monday - Friday: 9:00 AM - 6:00 PM</p>
                <p>Saturday: 10:00 AM - 2:00 PM</p>
                <p>Sunday: Closed</p>
              </div>
            </div>

            <div class="contact-detail">
              <i class="fas fa-exclamation-circle"></i>
              <div>
                <h4>Emergency Contact</h4>
                <p>
                  <a href="tel:+27664575904" class="contact-emergency"
                    >Loading emergency...</a
                  >
                </p>
              </div>
            </div>

            <div class="social-section">
              <h4>Follow Us</h4>
              <div class="social-links">
                <a href="#" aria-label="Facebook"
                  ><i class="fab fa-facebook-f"></i
                ></a>
                <a href="#" aria-label="Twitter"
                  ><i class="fab fa-twitter"></i
                ></a>
                <a href="#" aria-label="LinkedIn"
                  ><i class="fab fa-linkedin-in"></i
                ></a>
                <a href="#" aria-label="Instagram"
                  ><i class="fab fa-instagram"></i
                ></a>
                <a href="#" aria-label="GitHub"
                  ><i class="fab fa-github"></i
                ></a>
              </div>
            </div>
          </div>

          <div class="contact-form">
            <form
              id="contactForm"
              action="https://formspree.io/f/mykprlvy"
              method="POST"
            >
              <h3>Send us a Message</h3>

              <!-- Hidden field for the recipient email -->
              <input
                type="hidden"
                name="_replyto"
                value="info@tooraflex.co.za"
              />
              <input
                type="hidden"
                name="_subject"
                value="New Contact Form Submission from Tooraflex Website"
              />

              <!-- Formspree redirect after success -->
              <input
                type="hidden"
                name="_next"
                value="https://yourdomain.co.za/thank-you.html"
              />

              <!-- Honey pot field for spam protection -->
              <input type="text" name="_gotcha" style="display: none" />

              <div class="form-group">
                <label for="name">Full Name *</label>
                <input
                  type="text"
                  id="name"
                  name="name"
                  class="form-control"
                  placeholder="Your Name"
                  required
                />
              </div>

              <div class="form-group">
                <label for="email">Email Address *</label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  class="form-control"
                  placeholder="Your Email"
                  required
                />
              </div>

              <div class="form-group">
                <label for="phone">Phone Number</label>
                <input
                  type="tel"
                  id="phone"
                  name="phone"
                  class="form-control"
                  placeholder="Your Phone Number"
                />
              </div>

              <div class="form-group">
                <label for="service">Service Interested In *</label>
                <select
                  id="service"
                  name="service"
                  class="form-control"
                  required
                >
                  <option value="">Select a Service</option>
                  <option value="website-design">Website Design</option>
                  <option value="web-apps">Web Applications</option>
                  <option value="hosting">Hosting Solutions</option>
                  <option value="surveys">Surveys & Analytics</option>
                  <option value="graphic-design">Graphic Design</option>
                  <option value="power-bi">Power BI & Data Management</option>
                  <option value="starter-package">Starter Package</option>
                  <option value="business-package">Business Package</option>
                  <option value="enterprise-package">Enterprise Package</option>
                  <option value="multiple">Multiple Services</option>
                  <option value="custom">Custom Solution</option>
                </select>
              </div>

              <div class="form-group">
                <label for="budget">Project Budget</label>
                <select id="budget" name="budget" class="form-control">
                  <option value="">Select Budget Range</option>
                  <option value="under-5k">Under R5,000</option>
                  <option value="5k-10k">R5,000 - R10,000</option>
                  <option value="10k-25k">R10,000 - R25,000</option>
                  <option value="25k-50k">R25,000 - R50,000</option>
                  <option value="50k-plus">R50,000+</option>
                  <option value="not-sure">Not Sure Yet</option>
                </select>
              </div>

              <div class="form-group">
                <label for="message">Project Details *</label>
                <textarea
                  id="message"
                  name="message"
                  class="form-control"
                  rows="5"
                  placeholder="Tell us about your project, goals, and timeline..."
                  required
                ></textarea>
              </div>

              <!-- POPIA Consent Checkbox -->
              <div class="form-group consent-group">
                <div class="consent-checkbox">
                  <input
                    type="checkbox"
                    id="popia-consent"
                    name="popia-consent"
                    required
                  />
                  <label for="popia-consent">
                    I consent to Tooraflex collecting and processing my personal
                    information in accordance with the Protection of Personal
                    Information Act (POPIA). I understand that my information
                    will be used solely for responding to my inquiry and will
                    not be shared with third parties without my consent.
                    <span class="required-star">*</span>
                  </label>
                </div>
              </div>

              <button type="submit" class="btn submit-btn" id="submitBtn">
                <span class="btn-text">Send Message</span>
                <span class="spinner" style="display: none">
                  <i class="fas fa-spinner fa-spin"></i> Sending...
                </span>
              </button>

              <!-- Response Message Container -->
              <div
                id="formResponse"
                class="response-message"
                style="display: none"
              ></div>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- Map Section -->
    <section class="section-padding bg-light">
      <div class="container">
        <div class="section-title">
          <h2>Our Location</h2>
          <p>Visit our office or contact us remotely</p>
        </div>

        <div class="map-container">
          <!-- Google Maps Embed -->
          <div class="map-embed">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3593.7373603001024!2d28.19359137562544!3d-25.746197645478144!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1e95621af1018bfb%3A0xa82b408f9572ede2!2s367%20Helen%20Joseph%20St%2C%20Pretoria%20Central%2C%20Pretoria%2C%200001!5e0!3m2!1sen!2sza!4v1768048299820!5m2!1sen!2sza"
              width="100%"
              height="100%"
              style="border: 0"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              title="Tooraflex Office Location"
            >
            </iframe>
          </div>

          <div class="map-info">
            <h3>Tooraflex Office</h3>
            <p class="contact-address">Loading address...</p>
            <div class="map-buttons">
              <a
                href="https://maps.google.com/maps?q=367+Helen+Joseph+St,+Pretoria+Central,+Pretoria,+0001"
                target="_blank"
                rel="noopener noreferrer"
                class="btn"
              >
                <i class="fas fa-directions"></i> Get Directions
              </a>
              <a
                href="https://wa.me/27812194023"
                target="_blank"
                rel="noopener noreferrer"
                class="btn btn-secondary"
              >
                <i class="fab fa-whatsapp"></i> WhatsApp Us
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="section-padding">
      <div class="container">
        <div class="section-title">
          <h2>Frequently Asked Questions</h2>
          <p>Get answers to common questions about our services</p>
        </div>

        <div class="services-grid">
          <div class="service-card">
            <h3>How long does a typical project take?</h3>
            <p>
              Project timelines vary based on complexity. A simple website takes
              2-4 weeks, while custom web applications can take 8-12 weeks. We
              provide detailed timelines during our initial consultation.
            </p>
          </div>

          <div class="service-card">
            <h3>Do you offer ongoing support?</h3>
            <p>
              Yes, we offer various support packages including monthly
              maintenance, hosting, and updates. Our enterprise packages include
              24/7 support and regular performance reviews.
            </p>
          </div>

          <div class="service-card">
            <h3>Can you work with existing designs or systems?</h3>
            <p>
              Absolutely! We can work with your existing designs, integrate with
              current systems, or migrate data from old platforms to new
              solutions we develop for you.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer id="main-footer"></footer>

    <!-- Scripts - MUST BE IN THIS ORDER -->
    <script src="js/config.js"></script>
    <script src="js/script.js"></script>

    <!-- Contact Form Handler -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const contactForm = document.getElementById("contactForm");
        const submitBtn = document.getElementById("submitBtn");
        const btnText = submitBtn.querySelector(".btn-text");
        const spinner = submitBtn.querySelector(".spinner");
        const formResponse = document.getElementById("formResponse");

        if (contactForm) {
          // Handle form submission
          contactForm.addEventListener("submit", async function (e) {
            e.preventDefault();

            // Show loading spinner
            btnText.style.display = "none";
            spinner.style.display = "inline-block";
            submitBtn.disabled = true;

            // Clear previous response
            formResponse.style.display = "none";
            formResponse.className = "response-message";
            formResponse.innerHTML = "";

            try {
              // Formspree AJAX submission
              const formData = new FormData(contactForm);
              const response = await fetch(contactForm.action, {
                method: "POST",
                body: formData,
                headers: {
                  Accept: "application/json",
                },
              });

              if (response.ok) {
                // Success
                formResponse.innerHTML = `
                  <div class="success-message">
                    <i class="fas fa-check-circle"></i>
                    <h4>Thank You!</h4>
                    <p>Your message has been sent successfully. We'll get back to you within 24 hours.</p>
                    <p>You will receive a confirmation email shortly.</p>
                  </div>
                `;
                formResponse.classList.add("success");
                formResponse.style.display = "block";

                // Reset form
                contactForm.reset();

                // Scroll to response
                formResponse.scrollIntoView({
                  behavior: "smooth",
                  block: "nearest",
                });

                // Log to console (for debugging)
                console.log("Form submitted successfully to Formspree");
              } else {
                throw new Error("Form submission failed");
              }
            } catch (error) {
              // Error handling
              console.error("Form submission error:", error);

              formResponse.innerHTML = `
                <div class="error-message">
                  <i class="fas fa-exclamation-circle"></i>
                  <h4>Oops! Something went wrong</h4>
                  <p>There was an error sending your message. Please try again or contact us directly at <a href="mailto:info@tooraflex.co.za">info@tooraflex.co.za</a>.</p>
                  <p>Error: ${error.message}</p>
                </div>
              `;
              formResponse.classList.add("error");
              formResponse.style.display = "block";

              // Scroll to error
              formResponse.scrollIntoView({
                behavior: "smooth",
                block: "nearest",
              });
            } finally {
              // Hide spinner and re-enable button
              btnText.style.display = "inline-block";
              spinner.style.display = "none";
              submitBtn.disabled = false;
            }
          });
        }

        // Initialize cookie consent
        initCookieConsent();
      });

      // Cookie Consent Functionality
      function initCookieConsent() {
        const cookieConsent = document.getElementById("cookie-consent");
        const acceptAllBtn = document.getElementById("cookie-accept-all");
        const necessaryBtn = document.getElementById("cookie-necessary");
        const declineBtn = document.getElementById("cookie-decline");

        // Check if consent already given
        const consentGiven = localStorage.getItem("cookieConsent");

        if (!consentGiven) {
          // Show cookie consent after 2 seconds
          setTimeout(() => {
            cookieConsent.classList.add("show");
          }, 2000);
        } else {
          cookieConsent.style.display = "none";
        }

        // Handle accept all
        acceptAllBtn.addEventListener("click", () => {
          localStorage.setItem("cookieConsent", "all");
          localStorage.setItem("cookieConsentDate", new Date().toISOString());
          cookieConsent.classList.remove("show");
          setTimeout(() => {
            cookieConsent.style.display = "none";
          }, 300);

          // Initialize analytics (if you add them later)
          console.log("All cookies accepted - analytics enabled");
        });

        // Handle necessary only
        necessaryBtn.addEventListener("click", () => {
          localStorage.setItem("cookieConsent", "necessary");
          localStorage.setItem("cookieConsentDate", new Date().toISOString());
          cookieConsent.classList.remove("show");
          setTimeout(() => {
            cookieConsent.style.display = "none";
          }, 300);

          console.log("Only necessary cookies accepted");
        });

        // Handle decline
        declineBtn.addEventListener("click", () => {
          localStorage.setItem("cookieConsent", "declined");
          localStorage.setItem("cookieConsentDate", new Date().toISOString());
          cookieConsent.classList.remove("show");
          setTimeout(() => {
            cookieConsent.style.display = "none";
          }, 300);

          console.log("Cookies declined");
        });
      }
    </script>
  </body>
</html>
